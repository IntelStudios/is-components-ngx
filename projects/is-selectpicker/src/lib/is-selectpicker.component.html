<div class="input-group">
  <ng-container [ngTemplateOutlet]="templateOptionSelected || defaultTemplateOptionSelection">
  </ng-container>
  <div class="input-group-btn" [autoClose]="false" dropdown (onShown)="onOptionsShown()" [isDisabled]="disabled" #rolesDropdown=bs-dropdown>
    <button class="btn btn-default dropdown-toggle" dropdownToggle> <span class="caret"></span></button>
    <div class="dropdown-menu pull-right dropdown-view">
      <input type="search" *ngIf="isSearch" class="form-control input-search" [placeholder]="searchPlaceholder" [formControl]="searchControl" (keydown)="onKeyDown($event)" />
      <div *ngIf="showSelectAll && filteredOptions && filteredOptions.length" class="input-group dropdown-button-holder">
        <button class="btn btn-default btn-dropdown" (click)="optionsSelectAll()">Select all</button>
        <button class="btn btn-default btn-dropdown" (click)="optionsDeselectAll()">Deselect all</button>
      </div>
      <ul class="short-scroll dropdown-default">
        <i *ngIf="isLoadingOptions" class="fa fa-circle-o-notch fa-spin options-loading"></i>
        <li *ngFor="let c of filteredOptions" (click)="optionToggle(c)" [class.active]="c.ID === activeItem?.ID">
          <div class="rows">
            <ng-container [ngTemplateOutlet]="templateOption || defaultTemplateOption" [ngTemplateOutletContext]="{$implicit: c, index: 0, item: c}">
            </ng-container>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>

<!--Default templates-->
<ng-template #defaultTemplateOption let-item="item">
  <span><i class="fa fa-fw" [class.fa-check]="item.Object == true"></i> {{item.Value}}</span>
</ng-template>

<ng-template #defaultTemplateOptionSelection>
  <div [ngClass]="{'selectpicker-disabled': disabled}" [innerHTML]="valueText || placeholder" class="form-control"></div>
</ng-template>
